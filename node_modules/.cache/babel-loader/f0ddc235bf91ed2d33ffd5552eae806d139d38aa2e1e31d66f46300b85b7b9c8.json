{"ast":null,"code":"\"undefined\" != typeof window && (window.__CRAFTJS__ || (window.__CRAFTJS__ = {}), window.__CRAFTJS__[\"@craftjs/utils\"] = \"0.2.4\");\nimport e, { applyPatches as t, enableMapSet as n, enablePatches as r, produceWithPatches as i } from \"immer\";\nimport o from \"lodash/isEqualWith\";\nimport a, { useMemo as c, useRef as s, useCallback as u, useEffect as l, useState as f, cloneElement as d, isValidElement as h } from \"react\";\nimport p from \"shallowequal\";\nimport { nanoid as y } from \"nanoid\";\nimport v from \"tiny-invariant\";\nimport b from \"react-dom\";\nvar m = \"ROOT\",\n  g = \"canvas-ROOT\",\n  E = \"Parent id cannot be ommited\",\n  w = \"Attempting to add a node with duplicated id\",\n  O = \"Node does not exist, it may have been removed\",\n  R = 'A <Element /> that is used inside a User Component must specify an `id` prop, eg: <Element id=\"text_element\">...</Element> ',\n  k = \"Placeholder required placement info (parent, index, or where) is missing\",\n  P = \"Node cannot be dropped into target parent\",\n  j = \"Target parent rejects incoming node\",\n  T = \"Current parent rejects outgoing node\",\n  C = \"Cannot move node that is not a direct child of a Canvas node\",\n  I = \"Cannot move node into a non-Canvas parent\",\n  A = \"A top-level Node cannot be moved\",\n  D = \"Root Node cannot be moved\",\n  S = \"Cannot move node into a descendant\",\n  H = \"The component type specified for this node (%node_type%) does not exist in the resolver\",\n  _ = \"The component specified in the <Canvas> `is` prop has additional Canvas specified in it's render template.\",\n  x = \"The node has specified a canDrag() rule that prevents it from being dragged\",\n  N = \"Invalid parameter Node Id specified\",\n  L = \"Attempting to delete a top-level Node\",\n  M = \"Resolver in <Editor /> has to be an object. For (de)serialization Craft.js needs a list of all the User Components. \\n    \\nMore info: https://craft.js.org/r/docs/api/editor#props\",\n  U = \"An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />\\n\\nAvailable components in resolver: %availableComponents%\\n\\nMore info: https://craft.js.org/r/docs/api/editor#props\",\n  q = \"You can only use useEditor in the context of <Editor />. \\n\\nPlease only use useEditor in components that are children of the <Editor /> component.\",\n  B = \"You can only use useNode in the context of <Editor />. \\n\\nPlease only use useNode in components that are children of the <Editor /> component.\";\nfunction G(e, t) {\n  var n = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var r = Object.getOwnPropertySymbols(e);\n    t && (r = r.filter(function (t) {\n      return Object.getOwnPropertyDescriptor(e, t).enumerable;\n    })), n.push.apply(n, r);\n  }\n  return n;\n}\nfunction Y(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = null != arguments[t] ? arguments[t] : {};\n    t % 2 ? G(Object(n), !0).forEach(function (t) {\n      J(e, t, n[t]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : G(Object(n)).forEach(function (t) {\n      Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n    });\n  }\n  return e;\n}\nfunction F(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction W(e, t) {\n  for (var n = 0; n < t.length; n++) {\n    var r = t[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, oe(r.key), r);\n  }\n}\nfunction z(e, t, n) {\n  return t && W(e.prototype, t), n && W(e, n), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction J(e, t, n) {\n  return (t = oe(t)) in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\nfunction $(e) {\n  return $ = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  }, $(e);\n}\nfunction K(e, t) {\n  return K = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) {\n    return e.__proto__ = t, e;\n  }, K(e, t);\n}\nfunction Q(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction V() {\n  return V = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, n) {\n    var r = function (e, t) {\n      for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = $(e)););\n      return e;\n    }(e, t);\n    if (r) {\n      var i = Object.getOwnPropertyDescriptor(r, t);\n      return i.get ? i.get.call(arguments.length < 3 ? e : n) : i.value;\n    }\n  }, V.apply(this, arguments);\n}\nfunction X(e, t) {\n  return ee(e) || function (e, t) {\n    var n = null == e ? null : \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n    if (null != n) {\n      var r,\n        i,\n        o,\n        a,\n        c = [],\n        s = !0,\n        u = !1;\n      try {\n        if (o = (n = n.call(e)).next, 0 === t) {\n          if (Object(n) !== n) return;\n          s = !1;\n        } else for (; !(s = (r = o.call(n)).done) && (c.push(r.value), c.length !== t); s = !0);\n      } catch (e) {\n        u = !0, i = e;\n      } finally {\n        try {\n          if (!s && null != n.return && (a = n.return(), Object(a) !== a)) return;\n        } finally {\n          if (u) throw i;\n        }\n      }\n      return c;\n    }\n  }(e, t) || ne(e, t) || ie();\n}\nfunction Z(e) {\n  return function (e) {\n    if (Array.isArray(e)) return re(e);\n  }(e) || te(e) || ne(e) || function () {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }();\n}\nfunction ee(e) {\n  if (Array.isArray(e)) return e;\n}\nfunction te(e) {\n  if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\n}\nfunction ne(e, t) {\n  if (e) {\n    if (\"string\" == typeof e) return re(e, t);\n    var n = Object.prototype.toString.call(e).slice(8, -1);\n    return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(e) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? re(e, t) : void 0;\n  }\n}\nfunction re(e, t) {\n  (null == t || t > e.length) && (t = e.length);\n  for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];\n  return r;\n}\nfunction ie() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction oe(e) {\n  var t = function (e, t) {\n    if (\"object\" != typeof e || null === e) return e;\n    var n = e[Symbol.toPrimitive];\n    if (void 0 !== n) {\n      var r = n.call(e, \"string\");\n      if (\"object\" != typeof r) return r;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return String(e);\n  }(e);\n  return \"symbol\" == typeof t ? t : String(t);\n}\nvar ae = {\n    UNDO: \"HISTORY_UNDO\",\n    REDO: \"HISTORY_REDO\",\n    THROTTLE: \"HISTORY_THROTTLE\",\n    IGNORE: \"HISTORY_IGNORE\",\n    MERGE: \"HISTORY_MERGE\",\n    CLEAR: \"HISTORY_CLEAR\"\n  },\n  ce = function () {\n    function e() {\n      F(this, e), J(this, \"timeline\", []), J(this, \"pointer\", -1);\n    }\n    return z(e, [{\n      key: \"add\",\n      value: function (e, t) {\n        0 === e.length && 0 === t.length || (this.pointer = this.pointer + 1, this.timeline.length = this.pointer, this.timeline[this.pointer] = {\n          patches: e,\n          inversePatches: t,\n          timestamp: Date.now()\n        });\n      }\n    }, {\n      key: \"throttleAdd\",\n      value: function (e, t) {\n        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 500;\n        if (0 !== e.length || 0 !== t.length) {\n          if (this.timeline.length && this.pointer >= 0) {\n            var r = this.timeline[this.pointer],\n              i = r.patches,\n              o = r.inversePatches,\n              a = r.timestamp;\n            if (new Date().getTime() - a < n) return void (this.timeline[this.pointer] = {\n              timestamp: a,\n              patches: [].concat(Z(i), Z(e)),\n              inversePatches: [].concat(Z(t), Z(o))\n            });\n          }\n          this.add(e, t);\n        }\n      }\n    }, {\n      key: \"merge\",\n      value: function (e, t) {\n        if (0 !== e.length || 0 !== t.length) if (this.timeline.length && this.pointer >= 0) {\n          var n = this.timeline[this.pointer],\n            r = n.inversePatches;\n          this.timeline[this.pointer] = {\n            timestamp: n.timestamp,\n            patches: [].concat(Z(n.patches), Z(e)),\n            inversePatches: [].concat(Z(t), Z(r))\n          };\n        } else this.add(e, t);\n      }\n    }, {\n      key: \"clear\",\n      value: function () {\n        this.timeline = [], this.pointer = -1;\n      }\n    }, {\n      key: \"canUndo\",\n      value: function () {\n        return this.pointer >= 0;\n      }\n    }, {\n      key: \"canRedo\",\n      value: function () {\n        return this.pointer < this.timeline.length - 1;\n      }\n    }, {\n      key: \"undo\",\n      value: function (e) {\n        if (this.canUndo()) {\n          var n = this.timeline[this.pointer].inversePatches;\n          return this.pointer = this.pointer - 1, t(e, n);\n        }\n      }\n    }, {\n      key: \"redo\",\n      value: function (e) {\n        if (this.canRedo()) return this.pointer = this.pointer + 1, t(e, this.timeline[this.pointer].patches);\n      }\n    }]), e;\n  }();\nfunction se(t, n, r, o) {\n  var a,\n    f = c(function () {\n      return new ce();\n    }, []),\n    d = s([]),\n    h = s();\n  \"function\" == typeof t ? a = t : (a = t.methods, d.current = t.ignoreHistoryForActions, h.current = t.normalizeHistory);\n  var p = s(o);\n  p.current = o;\n  var y = s(n),\n    v = c(function () {\n      var t = h.current,\n        n = d.current,\n        o = p.current;\n      return function (c, s) {\n        var u,\n          l = r && ue(r, function () {\n            return c;\n          }, f),\n          d = X(i(c, function (e) {\n            var t, n;\n            switch (s.type) {\n              case ae.UNDO:\n                return f.undo(e);\n              case ae.REDO:\n                return f.redo(e);\n              case ae.CLEAR:\n                return f.clear(), Y({}, e);\n              case ae.IGNORE:\n              case ae.MERGE:\n              case ae.THROTTLE:\n                var r,\n                  i = ee(n = s.payload) || te(n) || ne(n) || ie(),\n                  o = i[0],\n                  c = i.slice(1);\n                (r = a(e, l))[o].apply(r, Z(c));\n                break;\n              default:\n                (t = a(e, l))[s.type].apply(t, Z(s.payload));\n            }\n          }), 3),\n          h = d[0],\n          p = d[1],\n          y = d[2];\n        return u = h, o && o(h, c, {\n          type: s.type,\n          params: s.payload,\n          patches: p\n        }, l, function (e) {\n          var t = i(h, e);\n          u = t[0], p = [].concat(Z(p), Z(t[1])), y = [].concat(Z(t[2]), Z(y));\n        }), [ae.UNDO, ae.REDO].includes(s.type) && t && (u = e(u, t)), [].concat(Z(n), [ae.UNDO, ae.REDO, ae.IGNORE, ae.CLEAR]).includes(s.type) || (s.type === ae.THROTTLE ? f.throttleAdd(p, y, s.config && s.config.rate) : s.type === ae.MERGE ? f.merge(p, y) : f.add(p, y)), u;\n      };\n    }, [f, a, r]),\n    b = u(function () {\n      return y.current;\n    }, []),\n    m = c(function () {\n      return new le(b);\n    }, [b]),\n    g = u(function (e) {\n      var t = v(y.current, e);\n      y.current = t, m.notify();\n    }, [v, m]);\n  l(function () {\n    m.notify();\n  }, [m]);\n  var E = c(function () {\n      return r ? ue(r, function () {\n        return y.current;\n      }, f) : [];\n    }, [f, r]),\n    w = c(function () {\n      var e = Object.keys(a(null, null)),\n        t = d.current;\n      return Y(Y({}, e.reduce(function (e, t) {\n        return e[t] = function () {\n          for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];\n          return g({\n            type: t,\n            payload: n\n          });\n        }, e;\n      }, {})), {}, {\n        history: {\n          undo: function () {\n            return g({\n              type: ae.UNDO\n            });\n          },\n          redo: function () {\n            return g({\n              type: ae.REDO\n            });\n          },\n          clear: function () {\n            return g({\n              type: ae.CLEAR\n            });\n          },\n          throttle: function (n) {\n            return Y({}, e.filter(function (e) {\n              return !t.includes(e);\n            }).reduce(function (e, t) {\n              return e[t] = function () {\n                for (var e = arguments.length, r = new Array(e), i = 0; i < e; i++) r[i] = arguments[i];\n                return g({\n                  type: ae.THROTTLE,\n                  payload: [t].concat(r),\n                  config: {\n                    rate: n\n                  }\n                });\n              }, e;\n            }, {}));\n          },\n          ignore: function () {\n            return Y({}, e.filter(function (e) {\n              return !t.includes(e);\n            }).reduce(function (e, t) {\n              return e[t] = function () {\n                for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];\n                return g({\n                  type: ae.IGNORE,\n                  payload: [t].concat(n)\n                });\n              }, e;\n            }, {}));\n          },\n          merge: function () {\n            return Y({}, e.filter(function (e) {\n              return !t.includes(e);\n            }).reduce(function (e, t) {\n              return e[t] = function () {\n                for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];\n                return g({\n                  type: ae.MERGE,\n                  payload: [t].concat(n)\n                });\n              }, e;\n            }, {}));\n          }\n        }\n      });\n    }, [g, a]);\n  return c(function () {\n    return {\n      getState: b,\n      subscribe: function (e, t, n) {\n        return m.subscribe(e, t, n);\n      },\n      actions: w,\n      query: E,\n      history: f\n    };\n  }, [w, E, m, b, f]);\n}\nfunction ue(e, t, n) {\n  var r = Object.keys(e()).reduce(function (n, r) {\n    return Y(Y({}, n), {}, J({}, r, function () {\n      var n;\n      return (n = e(t()))[r].apply(n, arguments);\n    }));\n  }, {});\n  return Y(Y({}, r), {}, {\n    history: {\n      canUndo: function () {\n        return n.canUndo();\n      },\n      canRedo: function () {\n        return n.canRedo();\n      }\n    }\n  });\n}\nn(), r();\nvar le = function () {\n    function e(t) {\n      F(this, e), J(this, \"getState\", void 0), J(this, \"subscribers\", []), this.getState = t;\n    }\n    return z(e, [{\n      key: \"subscribe\",\n      value: function (e, t, n) {\n        var r = this,\n          i = new fe(function () {\n            return e(r.getState());\n          }, t, n);\n        return this.subscribers.push(i), this.unsubscribe.bind(this, i);\n      }\n    }, {\n      key: \"unsubscribe\",\n      value: function (e) {\n        if (this.subscribers.length) {\n          var t = this.subscribers.indexOf(e);\n          if (t > -1) return this.subscribers.splice(t, 1);\n        }\n      }\n    }, {\n      key: \"notify\",\n      value: function () {\n        this.subscribers.forEach(function (e) {\n          return e.collect();\n        });\n      }\n    }]), e;\n  }(),\n  fe = function () {\n    function e(t, n) {\n      var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n      F(this, e), J(this, \"collected\", void 0), J(this, \"collector\", void 0), J(this, \"onChange\", void 0), J(this, \"id\", void 0), this.collector = t, this.onChange = n, r && this.collect();\n    }\n    return z(e, [{\n      key: \"collect\",\n      value: function () {\n        try {\n          var e = this.collector();\n          o(e, this.collected) || (this.collected = e, this.onChange && this.onChange(this.collected));\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n    }]), e;\n  }(),\n  de = function (e) {\n    var t = e.getBoundingClientRect(),\n      n = t.x,\n      r = t.y,\n      i = t.top,\n      o = t.left,\n      a = t.bottom,\n      c = t.right,\n      s = t.width,\n      u = t.height,\n      l = window.getComputedStyle(e),\n      f = {\n        left: parseInt(l.marginLeft),\n        right: parseInt(l.marginRight),\n        bottom: parseInt(l.marginBottom),\n        top: parseInt(l.marginTop)\n      },\n      d = {\n        left: parseInt(l.paddingLeft),\n        right: parseInt(l.paddingRight),\n        bottom: parseInt(l.paddingBottom),\n        top: parseInt(l.paddingTop)\n      };\n    return {\n      x: n,\n      y: r,\n      top: i,\n      left: o,\n      bottom: a,\n      right: c,\n      width: s,\n      height: u,\n      outerWidth: Math.round(s + f.left + f.right),\n      outerHeight: Math.round(u + f.top + f.bottom),\n      margin: f,\n      padding: d,\n      inFlow: e.parentElement && !!function (t) {\n        var n = getComputedStyle(t);\n        if (!(l.overflow && \"visible\" !== l.overflow || \"none\" !== n.float || \"grid\" === n.display || \"flex\" === n.display && \"column\" !== n[\"flex-direction\"])) {\n          switch (l.position) {\n            case \"static\":\n            case \"relative\":\n              break;\n            default:\n              return;\n          }\n          switch (e.tagName) {\n            case \"TR\":\n            case \"TBODY\":\n            case \"THEAD\":\n            case \"TFOOT\":\n              return !0;\n          }\n          switch (l.display) {\n            case \"block\":\n            case \"list-item\":\n            case \"table\":\n            case \"flex\":\n            case \"grid\":\n              return !0;\n          }\n        }\n      }(e.parentElement)\n    };\n  };\nfunction he(e, t) {\n  const {\n      subscribe: n,\n      getState: r,\n      actions: i,\n      query: o\n    } = e,\n    a = s(!0),\n    c = s(null),\n    d = s(t);\n  d.current = t;\n  const h = u(e => ({\n    ...e,\n    actions: i,\n    query: o\n  }), [i, o]);\n  a.current && t && (c.current = t(r(), o), a.current = !1);\n  const [p, y] = f(h(c.current));\n  return l(() => {\n    let e;\n    return d.current && (e = n(e => d.current(e, o), e => {\n      y(h(e));\n    })), () => {\n      e && e();\n    };\n  }, [h, o, n]), p;\n}\nvar pe,\n  ye = function () {\n    return y(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 10);\n  },\n  ve = function () {\n    function e() {\n      F(this, e), J(this, \"isEnabled\", !0), J(this, \"elementIdMap\", new WeakMap()), J(this, \"registry\", new Map());\n    }\n    return z(e, [{\n      key: \"getElementId\",\n      value: function (e) {\n        var t = this.elementIdMap.get(e);\n        if (t) return t;\n        var n = ye();\n        return this.elementIdMap.set(e, n), n;\n      }\n    }, {\n      key: \"getConnectorId\",\n      value: function (e, t) {\n        var n = this.getElementId(e);\n        return \"\".concat(t, \"--\").concat(n);\n      }\n    }, {\n      key: \"register\",\n      value: function (e, t) {\n        var n = this,\n          r = this.getByElement(e, t.name);\n        if (r) {\n          if (p(t.required, r.required)) return r;\n          this.getByElement(e, t.name).disable();\n        }\n        var i = null,\n          o = this.getConnectorId(e, t.name);\n        return this.registry.set(o, {\n          id: o,\n          required: t.required,\n          enable: function () {\n            i && i(), i = t.connector(e, t.required, t.options);\n          },\n          disable: function () {\n            i && i();\n          },\n          remove: function () {\n            return n.remove(o);\n          }\n        }), this.isEnabled && this.registry.get(o).enable(), this.registry.get(o);\n      }\n    }, {\n      key: \"get\",\n      value: function (e) {\n        return this.registry.get(e);\n      }\n    }, {\n      key: \"remove\",\n      value: function (e) {\n        var t = this.get(e);\n        t && (t.disable(), this.registry.delete(t.id));\n      }\n    }, {\n      key: \"enable\",\n      value: function () {\n        this.isEnabled = !0, this.registry.forEach(function (e) {\n          e.enable();\n        });\n      }\n    }, {\n      key: \"disable\",\n      value: function () {\n        this.isEnabled = !1, this.registry.forEach(function (e) {\n          e.disable();\n        });\n      }\n    }, {\n      key: \"getByElement\",\n      value: function (e, t) {\n        return this.get(this.getConnectorId(e, t));\n      }\n    }, {\n      key: \"removeByElement\",\n      value: function (e, t) {\n        return this.remove(this.getConnectorId(e, t));\n      }\n    }, {\n      key: \"clear\",\n      value: function () {\n        this.disable(), this.elementIdMap = new WeakMap(), this.registry = new Map();\n      }\n    }]), e;\n  }();\n!function (e) {\n  e[e.HandlerDisabled = 0] = \"HandlerDisabled\", e[e.HandlerEnabled = 1] = \"HandlerEnabled\";\n}(pe || (pe = {}));\nvar be = function () {\n    function e(t) {\n      F(this, e), J(this, \"options\", void 0), J(this, \"registry\", new ve()), J(this, \"subscribers\", new Set()), this.options = t;\n    }\n    return z(e, [{\n      key: \"listen\",\n      value: function (e) {\n        var t = this;\n        return this.subscribers.add(e), function () {\n          return t.subscribers.delete(e);\n        };\n      }\n    }, {\n      key: \"disable\",\n      value: function () {\n        this.onDisable && this.onDisable(), this.registry.disable(), this.subscribers.forEach(function (e) {\n          e(pe.HandlerDisabled);\n        });\n      }\n    }, {\n      key: \"enable\",\n      value: function () {\n        this.onEnable && this.onEnable(), this.registry.enable(), this.subscribers.forEach(function (e) {\n          e(pe.HandlerEnabled);\n        });\n      }\n    }, {\n      key: \"cleanup\",\n      value: function () {\n        this.disable(), this.subscribers.clear(), this.registry.clear();\n      }\n    }, {\n      key: \"addCraftEventListener\",\n      value: function (e, t, n, r) {\n        var i = function (r) {\n          (function (e, t, n) {\n            e.craft || (e.craft = {\n              stopPropagation: function () {},\n              blockedEvents: {}\n            });\n            for (var r = e.craft && e.craft.blockedEvents[t] || [], i = 0; i < r.length; i++) {\n              var o = r[i];\n              if (n !== o && n.contains(o)) return !0;\n            }\n            return !1;\n          })(r, t, e) || (r.craft.stopPropagation = function () {\n            r.craft.blockedEvents[t] || (r.craft.blockedEvents[t] = []), r.craft.blockedEvents[t].push(e);\n          }, n(r));\n        };\n        return e.addEventListener(t, i, r), function () {\n          return e.removeEventListener(t, i, r);\n        };\n      }\n    }, {\n      key: \"createConnectorsUsage\",\n      value: function () {\n        var e = this,\n          t = this.handlers(),\n          n = new Set(),\n          r = !1,\n          i = new Map();\n        return {\n          connectors: Object.entries(t).reduce(function (t, o) {\n            var a = X(o, 2),\n              c = a[0],\n              s = a[1];\n            return Y(Y({}, t), {}, J({}, c, function (t, o, a) {\n              var u = function () {\n                var r = e.registry.register(t, {\n                  required: o,\n                  name: c,\n                  options: a,\n                  connector: s\n                });\n                return n.add(r.id), r;\n              };\n              return i.set(e.registry.getConnectorId(t, c), u), r && u(), t;\n            }));\n          }, {}),\n          register: function () {\n            r = !0, i.forEach(function (e) {\n              e();\n            });\n          },\n          cleanup: function () {\n            r = !1, n.forEach(function (t) {\n              return e.registry.remove(t);\n            });\n          }\n        };\n      }\n    }, {\n      key: \"derive\",\n      value: function (e, t) {\n        return new e(this, t);\n      }\n    }, {\n      key: \"createProxyHandlers\",\n      value: function (e, t) {\n        var n = [],\n          r = e.handlers(),\n          i = new Proxy(r, {\n            get: function (e, t, i) {\n              return t in r == 0 ? Reflect.get(e, t, i) : function (e) {\n                for (var i = arguments.length, o = new Array(i > 1 ? i - 1 : 0), a = 1; a < i; a++) o[a - 1] = arguments[a];\n                var c = r[t].apply(r, [e].concat(o));\n                c && n.push(c);\n              };\n            }\n          });\n        return t(i), function () {\n          n.forEach(function (e) {\n            e();\n          });\n        };\n      }\n    }, {\n      key: \"reflect\",\n      value: function (e) {\n        return this.createProxyHandlers(this, e);\n      }\n    }]), e;\n  }(),\n  me = function (e) {\n    !function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), Object.defineProperty(e, \"prototype\", {\n        writable: !1\n      }), t && K(e, t);\n    }(i, be);\n    var t,\n      n,\n      r = (t = i, n = function () {\n        if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n        if (Reflect.construct.sham) return !1;\n        if (\"function\" == typeof Proxy) return !0;\n        try {\n          return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n        } catch (e) {\n          return !1;\n        }\n      }(), function () {\n        var e,\n          r = $(t);\n        if (n) {\n          var i = $(this).constructor;\n          e = Reflect.construct(r, arguments, i);\n        } else e = r.apply(this, arguments);\n        return function (e, t) {\n          if (t && (\"object\" == typeof t || \"function\" == typeof t)) return t;\n          if (void 0 !== t) throw new TypeError(\"Derived constructors may only return object or undefined\");\n          return Q(e);\n        }(this, e);\n      });\n    function i(e, t) {\n      var n;\n      return F(this, i), J(Q(n = r.call(this, t)), \"derived\", void 0), J(Q(n), \"unsubscribeParentHandlerListener\", void 0), n.derived = e, n.options = t, n.unsubscribeParentHandlerListener = n.derived.listen(function (e) {\n        switch (e) {\n          case pe.HandlerEnabled:\n            return n.enable();\n          case pe.HandlerDisabled:\n            return n.disable();\n          default:\n            return;\n        }\n      }), n;\n    }\n    return z(i, [{\n      key: \"inherit\",\n      value: function (e) {\n        return this.createProxyHandlers(this.derived, e);\n      }\n    }, {\n      key: \"cleanup\",\n      value: function () {\n        V($(i.prototype), \"cleanup\", this).call(this), this.unsubscribeParentHandlerListener();\n      }\n    }]), i;\n  }();\nfunction ge(e, t) {\n  t && (\"function\" == typeof e ? e(t) : e.current = t);\n}\nfunction Ee(e, t) {\n  const n = e.ref;\n  return v(\"string\" != typeof n, \"Cannot connect to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\"), d(e, n ? {\n    ref: e => {\n      ge(n, e), ge(t, e);\n    }\n  } : {\n    ref: t\n  });\n}\nfunction we(e) {\n  return (t = null, ...n) => {\n    if (!h(t)) {\n      if (!t) return;\n      const r = t;\n      return r && e(r, ...n), r;\n    }\n    const r = t;\n    return function (e) {\n      if (\"string\" != typeof e.type) throw new Error();\n    }(r), Ee(r, e);\n  };\n}\nfunction Oe(e) {\n  return Object.keys(e).reduce((t, n) => (t[n] = we((...t) => e[n](...t)), t), {});\n}\nconst Re = ({\n    style: e,\n    className: t,\n    parentDom: n\n  }) => {\n    const r = a.createElement(\"div\", {\n      className: t,\n      style: {\n        position: \"fixed\",\n        display: \"block\",\n        opacity: 1,\n        borderStyle: \"solid\",\n        borderWidth: \"1px\",\n        borderColor: \"transparent\",\n        zIndex: 99999,\n        ...e\n      }\n    });\n    return n && n.ownerDocument !== document ? b.createPortal(r, n.ownerDocument.body) : r;\n  },\n  ke = e => {\n    l(e, []);\n  };\nvar Pe = function (e, t) {\n    var n = \"Deprecation warning: \".concat(e, \" will be deprecated in future relases.\"),\n      r = t.suggest,\n      i = t.doc;\n    r && (n += \" Please use \".concat(r, \" instead.\")), i && (n += \"(\".concat(i, \")\")), console.warn(n);\n  },\n  je = function () {\n    return \"undefined\" != typeof window;\n  },\n  Te = function () {\n    return je() && /Linux/i.test(window.navigator.userAgent);\n  },\n  Ce = function () {\n    return je() && /Chrome/i.test(window.navigator.userAgent);\n  };\nexport { g as DEPRECATED_ROOT_NODE, me as DerivedEventHandlers, x as ERROR_CANNOT_DRAG, L as ERROR_DELETE_TOP_LEVEL_NODE, U as ERROR_DESERIALIZE_COMPONENT_NOT_IN_RESOLVER, w as ERROR_DUPLICATE_NODEID, _ as ERROR_INFINITE_CANVAS, O as ERROR_INVALID_NODEID, N as ERROR_INVALID_NODE_ID, k as ERROR_MISSING_PLACEHOLDER_PLACEMENT, P as ERROR_MOVE_CANNOT_DROP, j as ERROR_MOVE_INCOMING_PARENT, C as ERROR_MOVE_NONCANVAS_CHILD, T as ERROR_MOVE_OUTGOING_PARENT, D as ERROR_MOVE_ROOT_NODE, A as ERROR_MOVE_TOP_LEVEL_NODE, S as ERROR_MOVE_TO_DESCENDANT, I as ERROR_MOVE_TO_NONCANVAS_PARENT, E as ERROR_NOPARENT, H as ERROR_NOT_IN_RESOLVER, M as ERROR_RESOLVER_NOT_AN_OBJECT, R as ERROR_TOP_LEVEL_ELEMENT_NO_ID, q as ERROR_USE_EDITOR_OUTSIDE_OF_EDITOR_CONTEXT, B as ERROR_USE_NODE_OUTSIDE_OF_EDITOR_CONTEXT, pe as EventHandlerUpdates, be as EventHandlers, ae as HISTORY_ACTIONS, ce as History, m as ROOT_NODE, Re as RenderIndicator, Ee as cloneWithRef, ue as createQuery, Pe as deprecationWarning, de as getDOMInfo, ye as getRandomId, Ce as isChromium, je as isClientSide, Te as isLinux, he as useCollector, ke as useEffectOnce, se as useMethods, Oe as wrapConnectorHooks, we as wrapHookToRecognizeElement };","map":{"version":3,"names":["m","g","E","w","O","R","k","P","j","T","C","I","A","D","S","H","_","x","N","L","M","U","q","B","G","e","t","n","Object","keys","getOwnPropertySymbols","r","filter","getOwnPropertyDescriptor","enumerable","push","apply","Y","arguments","length","forEach","J","getOwnPropertyDescriptors","defineProperties","defineProperty","F","TypeError","W","configurable","writable","oe","key","z","prototype","value","$","setPrototypeOf","getPrototypeOf","bind","__proto__","K","Q","ReferenceError","V","Reflect","get","hasOwnProperty","call","i","X","ee","Symbol","iterator","o","a","c","s","u","next","done","return","ne","ie","Z","Array","isArray","re","te","from","toString","slice","constructor","name","test","toPrimitive","String","ae","UNDO","REDO","THROTTLE","IGNORE","MERGE","CLEAR","ce","pointer","timeline","patches","inversePatches","timestamp","Date","now","getTime","concat","add","canUndo","canRedo","se","f","d","h","methods","current","ignoreHistoryForActions","normalizeHistory","p","y","v","l","ue","type","undo","redo","clear","payload","params","includes","throttleAdd","config","rate","merge","b","le","notify","reduce","history","throttle","ignore","getState","subscribe","actions","query","fe","subscribers","unsubscribe","indexOf","splice","collect","collector","onChange","collected","console","warn","de","getDOMInfo","getBoundingClientRect","top","left","bottom","right","width","height","window","getComputedStyle","parseInt","marginLeft","marginRight","marginBottom","marginTop","paddingLeft","paddingRight","paddingBottom","paddingTop","outerWidth","Math","round","outerHeight","margin","padding","inFlow","parentElement","overflow","float","display","position","tagName","he","pe","ye","getRandomId","ve","WeakMap","Map","elementIdMap","set","getElementId","getByElement","required","disable","getConnectorId","registry","id","enable","connector","options","remove","isEnabled","delete","HandlerDisabled","HandlerEnabled","be","Set","onDisable","onEnable","bindedListener","craft","stopPropagation","blockedEvents","contains","addEventListener","removeEventListener","handlers","connectors","entries","registerConnector","register","cleanup","Proxy","createProxyHandlers","me","create","construct","sham","Boolean","valueOf","derived","unsubscribeParentHandlerListener","listen","ge","Ee","ref","we","Error","Oe","Re","RenderIndicator","style","className","parentDom","createElement","opacity","borderStyle","borderWidth","borderColor","zIndex","ownerDocument","document","createPortal","body","ke","Pe","deprecationWarning","suggest","doc","je","isClientSide","Te","isLinux","navigator","userAgent","Ce","isChromium","DEPRECATED_ROOT_NODE","DerivedEventHandlers","ERROR_CANNOT_DRAG","ERROR_DELETE_TOP_LEVEL_NODE","ERROR_DESERIALIZE_COMPONENT_NOT_IN_RESOLVER","ERROR_DUPLICATE_NODEID","ERROR_INFINITE_CANVAS","ERROR_INVALID_NODEID","ERROR_INVALID_NODE_ID","ERROR_MISSING_PLACEHOLDER_PLACEMENT","ERROR_MOVE_CANNOT_DROP","ERROR_MOVE_INCOMING_PARENT","ERROR_MOVE_NONCANVAS_CHILD","ERROR_MOVE_OUTGOING_PARENT","ERROR_MOVE_ROOT_NODE","ERROR_MOVE_TOP_LEVEL_NODE","ERROR_MOVE_TO_DESCENDANT","ERROR_MOVE_TO_NONCANVAS_PARENT","ERROR_NOPARENT","ERROR_NOT_IN_RESOLVER","ERROR_RESOLVER_NOT_AN_OBJECT","ERROR_TOP_LEVEL_ELEMENT_NO_ID","ERROR_USE_EDITOR_OUTSIDE_OF_EDITOR_CONTEXT","ERROR_USE_NODE_OUTSIDE_OF_EDITOR_CONTEXT","EventHandlerUpdates","EventHandlers","HISTORY_ACTIONS","History","ROOT_NODE","cloneWithRef","createQuery","useCollector","useEffectOnce","useMethods","wrapConnectorHooks","wrapHookToRecognizeElement"],"sources":["/Users/saira/Documents/School/node_modules/@craftjs/utils/src/constants.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/History.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/useMethods.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/getDOMInfo.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/useCollector.tsx","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/getRandomId.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/EventHandlers/interfaces.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/EventHandlers/ConnectorRegistry.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/EventHandlers/EventHandlers.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/EventHandlers/isEventBlockedByDescendant.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/EventHandlers/DerivedEventHandlers.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/EventHandlers/wrapConnectorHooks.tsx","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/RenderIndicator.tsx","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/useEffectOnce.tsx","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/deprecate.ts","/Users/saira/Documents/School/node_modules/@craftjs/utils/src/platform.ts"],"sourcesContent":["export const ROOT_NODE = 'ROOT';\nexport const DEPRECATED_ROOT_NODE = 'canvas-ROOT';\n\n// TODO: Use a better way to store/display error messages\nexport const ERROR_NOPARENT = 'Parent id cannot be ommited';\nexport const ERROR_DUPLICATE_NODEID =\n  'Attempting to add a node with duplicated id';\nexport const ERROR_INVALID_NODEID =\n  'Node does not exist, it may have been removed';\nexport const ERROR_TOP_LEVEL_ELEMENT_NO_ID =\n  'A <Element /> that is used inside a User Component must specify an `id` prop, eg: <Element id=\"text_element\">...</Element> ';\nexport const ERROR_MISSING_PLACEHOLDER_PLACEMENT =\n  'Placeholder required placement info (parent, index, or where) is missing';\nexport const ERROR_MOVE_CANNOT_DROP =\n  'Node cannot be dropped into target parent';\nexport const ERROR_MOVE_INCOMING_PARENT = 'Target parent rejects incoming node';\nexport const ERROR_MOVE_OUTGOING_PARENT =\n  'Current parent rejects outgoing node';\nexport const ERROR_MOVE_NONCANVAS_CHILD =\n  'Cannot move node that is not a direct child of a Canvas node';\nexport const ERROR_MOVE_TO_NONCANVAS_PARENT =\n  'Cannot move node into a non-Canvas parent';\nexport const ERROR_MOVE_TOP_LEVEL_NODE = 'A top-level Node cannot be moved';\nexport const ERROR_MOVE_ROOT_NODE = 'Root Node cannot be moved';\n\nexport const ERROR_MOVE_TO_DESCENDANT = 'Cannot move node into a descendant';\nexport const ERROR_NOT_IN_RESOLVER =\n  'The component type specified for this node (%node_type%) does not exist in the resolver';\nexport const ERROR_INFINITE_CANVAS =\n  \"The component specified in the <Canvas> `is` prop has additional Canvas specified in it's render template.\";\nexport const ERROR_CANNOT_DRAG =\n  'The node has specified a canDrag() rule that prevents it from being dragged';\nexport const ERROR_INVALID_NODE_ID = 'Invalid parameter Node Id specified';\nexport const ERROR_DELETE_TOP_LEVEL_NODE =\n  'Attempting to delete a top-level Node';\n\nexport const ERROR_RESOLVER_NOT_AN_OBJECT = `Resolver in <Editor /> has to be an object. For (de)serialization Craft.js needs a list of all the User Components. \n    \nMore info: https://craft.js.org/r/docs/api/editor#props`;\n\nexport const ERROR_DESERIALIZE_COMPONENT_NOT_IN_RESOLVER = `An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />\n\nAvailable components in resolver: %availableComponents%\n\nMore info: https://craft.js.org/r/docs/api/editor#props`;\n\nexport const ERROR_USE_EDITOR_OUTSIDE_OF_EDITOR_CONTEXT = `You can only use useEditor in the context of <Editor />. \n\nPlease only use useEditor in components that are children of the <Editor /> component.`;\n\nexport const ERROR_USE_NODE_OUTSIDE_OF_EDITOR_CONTEXT = `You can only use useNode in the context of <Editor />. \n\nPlease only use useNode in components that are children of the <Editor /> component.`;\n","import { Patch, applyPatches } from 'immer';\n\ntype Timeline = Array<{\n  patches: Patch[];\n  inversePatches: Patch[];\n  timestamp: number;\n}>;\n\nexport const HISTORY_ACTIONS = {\n  UNDO: 'HISTORY_UNDO',\n  REDO: 'HISTORY_REDO',\n  THROTTLE: 'HISTORY_THROTTLE',\n  IGNORE: 'HISTORY_IGNORE',\n  MERGE: 'HISTORY_MERGE',\n  CLEAR: 'HISTORY_CLEAR',\n};\n\nexport class History {\n  timeline: Timeline = [];\n  pointer = -1;\n\n  add(patches: Patch[], inversePatches: Patch[]) {\n    if (patches.length === 0 && inversePatches.length === 0) {\n      return;\n    }\n\n    this.pointer = this.pointer + 1;\n    this.timeline.length = this.pointer;\n    this.timeline[this.pointer] = {\n      patches,\n      inversePatches,\n      timestamp: Date.now(),\n    };\n  }\n\n  throttleAdd(\n    patches: Patch[],\n    inversePatches: Patch[],\n    throttleRate: number = 500\n  ) {\n    if (patches.length === 0 && inversePatches.length === 0) {\n      return;\n    }\n\n    if (this.timeline.length && this.pointer >= 0) {\n      const {\n        patches: currPatches,\n        inversePatches: currInversePatches,\n        timestamp,\n      } = this.timeline[this.pointer];\n\n      const now = new Date();\n      const diff = now.getTime() - timestamp;\n\n      if (diff < throttleRate) {\n        this.timeline[this.pointer] = {\n          timestamp,\n          patches: [...currPatches, ...patches],\n          inversePatches: [...inversePatches, ...currInversePatches],\n        };\n        return;\n      }\n    }\n\n    this.add(patches, inversePatches);\n  }\n\n  merge(patches: Patch[], inversePatches: Patch[]) {\n    if (patches.length === 0 && inversePatches.length === 0) {\n      return;\n    }\n\n    if (this.timeline.length && this.pointer >= 0) {\n      const {\n        patches: currPatches,\n        inversePatches: currInversePatches,\n        timestamp,\n      } = this.timeline[this.pointer];\n\n      this.timeline[this.pointer] = {\n        timestamp,\n        patches: [...currPatches, ...patches],\n        inversePatches: [...inversePatches, ...currInversePatches],\n      };\n      return;\n    }\n\n    this.add(patches, inversePatches);\n  }\n\n  clear() {\n    this.timeline = [];\n    this.pointer = -1;\n  }\n\n  canUndo() {\n    return this.pointer >= 0;\n  }\n\n  canRedo() {\n    return this.pointer < this.timeline.length - 1;\n  }\n\n  undo(state) {\n    if (!this.canUndo()) {\n      return;\n    }\n\n    const { inversePatches } = this.timeline[this.pointer];\n    this.pointer = this.pointer - 1;\n    return applyPatches(state, inversePatches);\n  }\n\n  redo(state) {\n    if (!this.canRedo()) {\n      return;\n    }\n\n    this.pointer = this.pointer + 1;\n    const { patches } = this.timeline[this.pointer];\n    return applyPatches(state, patches);\n  }\n}\n","// https://github.com/pelotom/use-methods\nimport produce, {\n  Patch,\n  produceWithPatches,\n  enableMapSet,\n  enablePatches,\n} from 'immer';\nimport isEqualWith from 'lodash/isEqualWith';\nimport { useMemo, useEffect, useRef, useCallback } from 'react';\n\nimport { History, HISTORY_ACTIONS } from './History';\nimport { Delete } from './utilityTypes';\n\nenableMapSet();\nenablePatches();\n\nexport type SubscriberAndCallbacksFor<\n  M extends MethodsOrOptions,\n  Q extends QueryMethods = any\n> = {\n  subscribe: Watcher<StateFor<M>>['subscribe'];\n  getState: () => { prev: StateFor<M>; current: StateFor<M> };\n  actions: CallbacksFor<M>;\n  query: QueryCallbacksFor<Q>;\n  history: History;\n};\n\nexport type StateFor<M extends MethodsOrOptions> = M extends MethodsOrOptions<\n  infer S,\n  any\n>\n  ? S\n  : never;\n\nexport type CallbacksFor<\n  M extends MethodsOrOptions\n> = M extends MethodsOrOptions<any, infer R>\n  ? {\n      [T in ActionUnion<R>['type']]: (\n        ...payload: ActionByType<ActionUnion<R>, T>['payload']\n      ) => void;\n    } & {\n      history: {\n        undo: () => void;\n        redo: () => void;\n        clear: () => void;\n        throttle: (\n          rate?: number\n        ) => Delete<\n          {\n            [T in ActionUnion<R>['type']]: (\n              ...payload: ActionByType<ActionUnion<R>, T>['payload']\n            ) => void;\n          },\n          M extends Options ? M['ignoreHistoryForActions'][number] : never\n        >;\n        merge: () => Delete<\n          {\n            [T in ActionUnion<R>['type']]: (\n              ...payload: ActionByType<ActionUnion<R>, T>['payload']\n            ) => void;\n          },\n          M extends Options ? M['ignoreHistoryForActions'][number] : never\n        >;\n        ignore: () => Delete<\n          {\n            [T in ActionUnion<R>['type']]: (\n              ...payload: ActionByType<ActionUnion<R>, T>['payload']\n            ) => void;\n          },\n          M extends Options ? M['ignoreHistoryForActions'][number] : never\n        >;\n      };\n    }\n  : {};\n\nexport type Methods<S = any, R extends MethodRecordBase<S> = any, Q = any> = (\n  state: S,\n  query: Q\n) => R;\n\nexport type Options<S = any, R extends MethodRecordBase<S> = any, Q = any> = {\n  methods: Methods<S, R, Q>;\n  ignoreHistoryForActions: ReadonlyArray<keyof MethodRecordBase>;\n  normalizeHistory?: (state: S) => void;\n};\n\nexport type MethodsOrOptions<\n  S = any,\n  R extends MethodRecordBase<S> = any,\n  Q = any\n> = Methods<S, R, Q> | Options<S, R, Q>;\n\nexport type MethodRecordBase<S = any> = Record<\n  string,\n  (...args: any[]) => S extends object ? S | void : S\n>;\n\nexport type Action<T = any, P = any> = {\n  type: T;\n  payload?: P;\n  config?: Record<string, any>;\n};\n\nexport type ActionUnion<R extends MethodRecordBase> = {\n  [T in keyof R]: { type: T; payload: Parameters<R[T]> };\n}[keyof R];\n\nexport type ActionByType<A, T> = A extends { type: infer T2 }\n  ? T extends T2\n    ? A\n    : never\n  : never;\n\nexport type QueryMethods<\n  S = any,\n  O = any,\n  R extends MethodRecordBase<S> = any\n> = (state?: S, options?: O) => R;\nexport type QueryCallbacksFor<M extends QueryMethods> = M extends QueryMethods<\n  any,\n  any,\n  infer R\n>\n  ? {\n      [T in ActionUnion<R>['type']]: (\n        ...payload: ActionByType<ActionUnion<R>, T>['payload']\n      ) => ReturnType<R[T]>;\n    } & {\n      history: {\n        canUndo: () => boolean;\n        canRedo: () => boolean;\n      };\n    }\n  : {};\n\nexport type PatchListenerAction<M extends MethodsOrOptions> = {\n  type: keyof CallbacksFor<M>;\n  params: any;\n  patches: Patch[];\n};\n\nexport type PatchListener<\n  S,\n  M extends MethodsOrOptions,\n  Q extends QueryMethods\n> = (\n  newState: S,\n  previousState: S,\n  actionPerformedWithPatches: PatchListenerAction<M>,\n  query: QueryCallbacksFor<Q>,\n  normalizer: (cb: (draft: S) => void) => void\n) => void;\n\nexport function useMethods<S, R extends MethodRecordBase<S>>(\n  methodsOrOptions: MethodsOrOptions<S, R>, // methods to manipulate the state\n  initialState: any\n): SubscriberAndCallbacksFor<MethodsOrOptions<S, R>>;\n\nexport function useMethods<\n  S,\n  R extends MethodRecordBase<S>,\n  Q extends QueryMethods\n>(\n  methodsOrOptions: MethodsOrOptions<S, R, QueryCallbacksFor<Q>>, // methods to manipulate the state\n  initialState: any,\n  queryMethods: Q\n): SubscriberAndCallbacksFor<MethodsOrOptions<S, R>, Q>;\n\nexport function useMethods<\n  S,\n  R extends MethodRecordBase<S>,\n  Q extends QueryMethods\n>(\n  methodsOrOptions: MethodsOrOptions<S, R, QueryCallbacksFor<Q>>, // methods to manipulate the state\n  initialState: any,\n  queryMethods: Q,\n  patchListener: PatchListener<\n    S,\n    MethodsOrOptions<S, R, QueryCallbacksFor<Q>>,\n    Q\n  >\n): SubscriberAndCallbacksFor<MethodsOrOptions<S, R>, Q>;\n\nexport function useMethods<\n  S,\n  R extends MethodRecordBase<S>,\n  Q extends QueryMethods = null\n>(\n  methodsOrOptions: MethodsOrOptions<S, R>,\n  initialState: any,\n  queryMethods?: Q,\n  patchListener?: any\n): SubscriberAndCallbacksFor<MethodsOrOptions<S, R>, Q> {\n  const history = useMemo(() => new History(), []);\n\n  let methodsFactory: Methods<S, R>;\n  let ignoreHistoryForActionsRef = useRef([]);\n  let normalizeHistoryRef = useRef<any>();\n\n  if (typeof methodsOrOptions === 'function') {\n    methodsFactory = methodsOrOptions;\n  } else {\n    methodsFactory = methodsOrOptions.methods;\n    ignoreHistoryForActionsRef.current = methodsOrOptions.ignoreHistoryForActions as any;\n    normalizeHistoryRef.current = methodsOrOptions.normalizeHistory;\n  }\n\n  const patchListenerRef = useRef(patchListener);\n  patchListenerRef.current = patchListener;\n\n  const stateRef = useRef(initialState);\n\n  const reducer = useMemo(() => {\n    const { current: normalizeHistory } = normalizeHistoryRef;\n    const { current: ignoreHistoryForActions } = ignoreHistoryForActionsRef;\n    const { current: patchListener } = patchListenerRef;\n\n    return (state: S, action: Action) => {\n      const query =\n        queryMethods && createQuery(queryMethods, () => state, history);\n\n      let finalState;\n      let [nextState, patches, inversePatches] = (produceWithPatches as any)(\n        state,\n        (draft: S) => {\n          switch (action.type) {\n            case HISTORY_ACTIONS.UNDO: {\n              return history.undo(draft);\n            }\n            case HISTORY_ACTIONS.REDO: {\n              return history.redo(draft);\n            }\n            case HISTORY_ACTIONS.CLEAR: {\n              history.clear();\n              return {\n                ...draft,\n              };\n            }\n\n            // TODO: Simplify History API\n            case HISTORY_ACTIONS.IGNORE:\n            case HISTORY_ACTIONS.MERGE:\n            case HISTORY_ACTIONS.THROTTLE: {\n              const [type, ...params] = action.payload;\n              methodsFactory(draft, query)[type](...params);\n              break;\n            }\n            default:\n              methodsFactory(draft, query)[action.type](...action.payload);\n          }\n        }\n      );\n\n      finalState = nextState;\n\n      if (patchListener) {\n        patchListener(\n          nextState,\n          state,\n          { type: action.type, params: action.payload, patches },\n          query,\n          (cb) => {\n            let normalizedDraft = produceWithPatches(nextState, cb);\n            finalState = normalizedDraft[0];\n\n            patches = [...patches, ...normalizedDraft[1]];\n            inversePatches = [...normalizedDraft[2], ...inversePatches];\n          }\n        );\n      }\n\n      if (\n        [HISTORY_ACTIONS.UNDO, HISTORY_ACTIONS.REDO].includes(\n          action.type as any\n        ) &&\n        normalizeHistory\n      ) {\n        finalState = produce(finalState, normalizeHistory);\n      }\n\n      if (\n        ![\n          ...ignoreHistoryForActions,\n          HISTORY_ACTIONS.UNDO,\n          HISTORY_ACTIONS.REDO,\n          HISTORY_ACTIONS.IGNORE,\n          HISTORY_ACTIONS.CLEAR,\n        ].includes(action.type as any)\n      ) {\n        if (action.type === HISTORY_ACTIONS.THROTTLE) {\n          history.throttleAdd(\n            patches,\n            inversePatches,\n            action.config && action.config.rate\n          );\n        } else if (action.type === HISTORY_ACTIONS.MERGE) {\n          history.merge(patches, inversePatches);\n        } else {\n          history.add(patches, inversePatches);\n        }\n      }\n\n      return finalState;\n    };\n  }, [history, methodsFactory, queryMethods]);\n\n  const getState = useCallback(() => stateRef.current, []);\n  const watcher = useMemo(() => new Watcher<S>(getState), [getState]);\n\n  const dispatch = useCallback(\n    (action: any) => {\n      const newState = reducer(stateRef.current, action);\n      stateRef.current = newState;\n      watcher.notify();\n    },\n    [reducer, watcher]\n  );\n\n  useEffect(() => {\n    watcher.notify();\n  }, [watcher]);\n\n  const query = useMemo(\n    () =>\n      !queryMethods\n        ? []\n        : createQuery(queryMethods, () => stateRef.current, history),\n    [history, queryMethods]\n  );\n\n  const actions = useMemo(() => {\n    const actionTypes = Object.keys(methodsFactory(null, null));\n\n    const { current: ignoreHistoryForActions } = ignoreHistoryForActionsRef;\n\n    return {\n      ...actionTypes.reduce((accum, type) => {\n        accum[type] = (...payload) => dispatch({ type, payload });\n        return accum;\n      }, {} as any),\n      history: {\n        undo() {\n          return dispatch({\n            type: HISTORY_ACTIONS.UNDO,\n          });\n        },\n        redo() {\n          return dispatch({\n            type: HISTORY_ACTIONS.REDO,\n          });\n        },\n        clear: () => {\n          return dispatch({\n            type: HISTORY_ACTIONS.CLEAR,\n          });\n        },\n        throttle: (rate) => {\n          return {\n            ...actionTypes\n              .filter((type) => !ignoreHistoryForActions.includes(type))\n              .reduce((accum, type) => {\n                accum[type] = (...payload) =>\n                  dispatch({\n                    type: HISTORY_ACTIONS.THROTTLE,\n                    payload: [type, ...payload],\n                    config: {\n                      rate: rate,\n                    },\n                  });\n                return accum;\n              }, {} as any),\n          };\n        },\n        ignore: () => {\n          return {\n            ...actionTypes\n              .filter((type) => !ignoreHistoryForActions.includes(type))\n              .reduce((accum, type) => {\n                accum[type] = (...payload) =>\n                  dispatch({\n                    type: HISTORY_ACTIONS.IGNORE,\n                    payload: [type, ...payload],\n                  });\n                return accum;\n              }, {} as any),\n          };\n        },\n        merge: () => {\n          return {\n            ...actionTypes\n              .filter((type) => !ignoreHistoryForActions.includes(type))\n              .reduce((accum, type) => {\n                accum[type] = (...payload) =>\n                  dispatch({\n                    type: HISTORY_ACTIONS.MERGE,\n                    payload: [type, ...payload],\n                  });\n                return accum;\n              }, {} as any),\n          };\n        },\n      },\n    };\n  }, [dispatch, methodsFactory]);\n\n  return useMemo(\n    () => ({\n      getState,\n      subscribe: (collector, cb, collectOnCreate) =>\n        watcher.subscribe(collector, cb, collectOnCreate),\n      actions,\n      query,\n      history,\n    }),\n    [actions, query, watcher, getState, history]\n  ) as any;\n}\n\nexport function createQuery<Q extends QueryMethods>(\n  queryMethods: Q,\n  getState,\n  history: History\n) {\n  const queries = Object.keys(queryMethods()).reduce((accum, key) => {\n    return {\n      ...accum,\n      [key]: (...args: any) => {\n        return queryMethods(getState())[key](...args);\n      },\n    };\n  }, {} as QueryCallbacksFor<typeof queryMethods>);\n\n  return {\n    ...queries,\n    history: {\n      canUndo: () => history.canUndo(),\n      canRedo: () => history.canRedo(),\n    },\n  };\n}\n\nclass Watcher<S> {\n  getState;\n  subscribers: Subscriber[] = [];\n\n  constructor(getState) {\n    this.getState = getState;\n  }\n\n  /**\n   * Creates a Subscriber\n   * @returns {() => void} a Function that removes the Subscriber\n   */\n  subscribe<C>(\n    collector: (state: S) => C,\n    onChange: (collected: C) => void,\n    collectOnCreate?: boolean\n  ): () => void {\n    const subscriber = new Subscriber(\n      () => collector(this.getState()),\n      onChange,\n      collectOnCreate\n    );\n    this.subscribers.push(subscriber);\n    return this.unsubscribe.bind(this, subscriber);\n  }\n\n  unsubscribe(subscriber) {\n    if (this.subscribers.length) {\n      const index = this.subscribers.indexOf(subscriber);\n      if (index > -1) return this.subscribers.splice(index, 1);\n    }\n  }\n\n  notify() {\n    this.subscribers.forEach((subscriber) => subscriber.collect());\n  }\n}\n\nclass Subscriber {\n  collected: any;\n  collector: () => any;\n  onChange: (collected: any) => void;\n  id;\n\n  /**\n   * Creates a Subscriber\n   * @param collector The method that returns an object of values to be collected\n   * @param onChange A callback method that is triggered when the collected values has changed\n   * @param collectOnCreate If set to true, the collector/onChange will be called on instantiation\n   */\n  constructor(collector, onChange, collectOnCreate = false) {\n    this.collector = collector;\n    this.onChange = onChange;\n\n    // Collect and run onChange callback when Subscriber is created\n    if (collectOnCreate) this.collect();\n  }\n\n  collect() {\n    try {\n      const recollect = this.collector();\n      if (!isEqualWith(recollect, this.collected)) {\n        this.collected = recollect;\n        if (this.onChange) this.onChange(this.collected);\n      }\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(err);\n    }\n  }\n}\n","export const getDOMInfo = (el: HTMLElement) => {\n  const {\n    x,\n    y,\n    top,\n    left,\n    bottom,\n    right,\n    width,\n    height,\n  } = el.getBoundingClientRect() as DOMRect;\n\n  const style = window.getComputedStyle(el);\n\n  const margin = {\n    left: parseInt(style.marginLeft),\n    right: parseInt(style.marginRight),\n    bottom: parseInt(style.marginBottom),\n    top: parseInt(style.marginTop),\n  };\n\n  const padding = {\n    left: parseInt(style.paddingLeft),\n    right: parseInt(style.paddingRight),\n    bottom: parseInt(style.paddingBottom),\n    top: parseInt(style.paddingTop),\n  };\n\n  const styleInFlow = (parent: HTMLElement) => {\n    const parentStyle: any = getComputedStyle(parent);\n\n    if (style.overflow && style.overflow !== 'visible') {\n      return;\n    }\n\n    if (parentStyle.float !== 'none') {\n      return;\n    }\n\n    if (parentStyle.display === 'grid') {\n      return;\n    }\n\n    if (\n      parentStyle.display === 'flex' &&\n      parentStyle['flex-direction'] !== 'column'\n    ) {\n      return;\n    }\n\n    switch (style.position) {\n      case 'static':\n      case 'relative':\n        break;\n      default:\n        return;\n    }\n\n    switch (el.tagName) {\n      case 'TR':\n      case 'TBODY':\n      case 'THEAD':\n      case 'TFOOT':\n        return true;\n    }\n\n    switch (style.display) {\n      case 'block':\n      case 'list-item':\n      case 'table':\n      case 'flex':\n      case 'grid':\n        return true;\n    }\n\n    return;\n  };\n\n  return {\n    x,\n    y,\n    top,\n    left,\n    bottom,\n    right,\n    width,\n    height,\n    outerWidth: Math.round(width + margin.left + margin.right),\n    outerHeight: Math.round(height + margin.top + margin.bottom),\n    margin,\n    padding,\n    inFlow: el.parentElement && !!styleInFlow(el.parentElement),\n  };\n};\n","import { useState, useCallback, useRef, useEffect } from 'react';\n\nimport { SubscriberAndCallbacksFor } from './useMethods';\nimport { ConditionallyMergeRecordTypes } from './utilityTypes';\n\ntype CollectorMethods<S extends SubscriberAndCallbacksFor<any, any>> = {\n  actions: S['actions'];\n  query: S['query'];\n};\n\nexport type useCollectorReturnType<\n  S extends SubscriberAndCallbacksFor<any, any>,\n  C = null\n> = ConditionallyMergeRecordTypes<C, CollectorMethods<S>>;\nexport function useCollector<S extends SubscriberAndCallbacksFor<any, any>, C>(\n  store: S,\n  collector?: (\n    state: ReturnType<S['getState']>['current'],\n    query: S['query']\n  ) => C\n): useCollectorReturnType<S, C> {\n  const { subscribe, getState, actions, query } = store;\n\n  const initial = useRef(true);\n  const collected = useRef<any>(null);\n  const collectorRef = useRef(collector);\n  collectorRef.current = collector;\n\n  const onCollect = useCallback(\n    (collected) => {\n      return { ...collected, actions, query };\n    },\n    [actions, query]\n  );\n\n  // Collect states for initial render\n  if (initial.current && collector) {\n    collected.current = collector(getState(), query);\n    initial.current = false;\n  }\n\n  const [renderCollected, setRenderCollected] = useState(\n    onCollect(collected.current)\n  );\n\n  // Collect states on state change\n  useEffect(() => {\n    let unsubscribe;\n    if (collectorRef.current) {\n      unsubscribe = subscribe(\n        (current) => collectorRef.current(current, query),\n        (collected) => {\n          setRenderCollected(onCollect(collected));\n        }\n      );\n    }\n    return () => {\n      if (unsubscribe) unsubscribe();\n    };\n  }, [onCollect, query, subscribe]);\n\n  return renderCollected;\n}\n","import { nanoid } from 'nanoid';\n\n// By default nanoid generate an ID with 21 characters. To reduce the footprint, we default to 10 characters.\n// We have a higher probability for collisions, though\n\n/**\n * Generate a random ID. That ID can for example be used as a node ID.\n *\n * @param size The number of characters that are generated for the ID. Defaults to `10`\n * @returns A random id\n */\nexport const getRandomId = (size: number = 10) => nanoid(size);\n","import { EventHandlers } from './EventHandlers';\n\nexport type Connector = (el: HTMLElement, ...args: any) => any;\n\nexport type ConnectorsRecord = Record<string, Connector>;\n\nexport type ChainableConnector<T extends Connector, O extends any> = T extends (\n  element: infer E,\n  ...args: infer P\n) => any\n  ? <B extends E | O>(element: B, ...args: P) => B\n  : never;\n\nexport type ChainableConnectors<\n  H extends ConnectorsRecord,\n  E extends any = HTMLElement\n> = {\n  [T in keyof H]: H[T] extends Connector ? ChainableConnector<H[T], E> : never;\n};\n\nexport type CraftDOMEvent<T extends Event> = T & {\n  craft: {\n    stopPropagation: () => void;\n    blockedEvents: Record<string, HTMLElement[]>;\n  };\n};\n\nexport type CraftEventListener<K extends keyof HTMLElementEventMap> = (\n  ev: CraftDOMEvent<HTMLElementEventMap[K]>\n) => any;\n\nexport type EventHandlerConnectors<\n  H extends EventHandlers,\n  E extends any = HTMLElement\n> = ChainableConnectors<ReturnType<H['handlers']>, E>;\n\nexport type ConnectorsUsage<H extends EventHandlers> = {\n  register: () => void;\n  cleanup: () => void;\n  connectors: EventHandlerConnectors<H>;\n};\n\nexport enum EventHandlerUpdates {\n  HandlerDisabled,\n  HandlerEnabled,\n}\n\nexport type ConnectorToRegister = {\n  name: string;\n  required: any;\n  connector: Connector;\n  options?: Record<string, any>;\n};\n\nexport type RegisteredConnector = {\n  id: string;\n  required: any;\n  enable: () => void;\n  disable: () => void;\n  remove: () => void;\n};\n","import isEqual from 'shallowequal';\n\nimport { ConnectorToRegister, RegisteredConnector } from './interfaces';\n\nimport { getRandomId } from '../getRandomId';\n\n/**\n * Stores all connected DOM elements and their connectors here\n * This allows us to easily enable/disable and perform cleanups\n */\nexport class ConnectorRegistry {\n  private isEnabled: boolean = true;\n\n  private elementIdMap: WeakMap<HTMLElement, string> = new WeakMap();\n  private registry: Map<String, RegisteredConnector> = new Map();\n\n  private getElementId(element: HTMLElement) {\n    const existingId = this.elementIdMap.get(element);\n    if (existingId) {\n      return existingId;\n    }\n\n    const newId = getRandomId();\n\n    this.elementIdMap.set(element, newId);\n    return newId;\n  }\n\n  getConnectorId(element: HTMLElement, connectorName: string) {\n    const elementId = this.getElementId(element);\n    return `${connectorName}--${elementId}`;\n  }\n\n  register(element: HTMLElement, connectorPayload: ConnectorToRegister) {\n    const existingConnector = this.getByElement(element, connectorPayload.name);\n\n    if (existingConnector) {\n      if (isEqual(connectorPayload.required, existingConnector.required)) {\n        return existingConnector;\n      }\n\n      this.getByElement(element, connectorPayload.name).disable();\n    }\n\n    let cleanup: () => void | null = null;\n\n    const id = this.getConnectorId(element, connectorPayload.name);\n    this.registry.set(id, {\n      id,\n      required: connectorPayload.required,\n      enable: () => {\n        if (cleanup) {\n          cleanup();\n        }\n\n        cleanup = connectorPayload.connector(\n          element,\n          connectorPayload.required,\n          connectorPayload.options\n        );\n      },\n      disable: () => {\n        if (!cleanup) {\n          return;\n        }\n\n        cleanup();\n      },\n      remove: () => {\n        return this.remove(id);\n      },\n    });\n\n    if (this.isEnabled) {\n      this.registry.get(id).enable();\n    }\n\n    return this.registry.get(id);\n  }\n\n  get(id: string) {\n    return this.registry.get(id);\n  }\n\n  remove(id: string) {\n    const connector = this.get(id);\n    if (!connector) {\n      return;\n    }\n\n    connector.disable();\n    this.registry.delete(connector.id);\n  }\n\n  enable() {\n    this.isEnabled = true;\n    this.registry.forEach((connectors) => {\n      connectors.enable();\n    });\n  }\n\n  disable() {\n    this.isEnabled = false;\n    this.registry.forEach((connectors) => {\n      connectors.disable();\n    });\n  }\n\n  getByElement(element: HTMLElement, connectorName: string) {\n    return this.get(this.getConnectorId(element, connectorName));\n  }\n\n  removeByElement(element: HTMLElement, connectorName: string) {\n    return this.remove(this.getConnectorId(element, connectorName));\n  }\n\n  clear() {\n    this.disable();\n    this.elementIdMap = new WeakMap();\n    this.registry = new Map();\n  }\n}\n","import { ConnectorRegistry } from './ConnectorRegistry';\nimport {\n  EventHandlerUpdates,\n  CraftEventListener,\n  EventHandlerConnectors,\n  CraftDOMEvent,\n  Connector,\n  ConnectorsUsage,\n  RegisteredConnector,\n} from './interfaces';\nimport { isEventBlockedByDescendant } from './isEventBlockedByDescendant';\n\nexport abstract class EventHandlers<O extends Record<string, any> = {}> {\n  options: O;\n\n  private registry: ConnectorRegistry = new ConnectorRegistry();\n  private subscribers: Set<(msg: EventHandlerUpdates) => void> = new Set();\n\n  onEnable?(): void;\n  onDisable?(): void;\n\n  constructor(options?: O) {\n    this.options = options;\n  }\n\n  listen(cb: (msg: EventHandlerUpdates) => void) {\n    this.subscribers.add(cb);\n    return () => this.subscribers.delete(cb);\n  }\n\n  disable() {\n    if (this.onDisable) {\n      this.onDisable();\n    }\n\n    this.registry.disable();\n\n    this.subscribers.forEach((listener) => {\n      listener(EventHandlerUpdates.HandlerDisabled);\n    });\n  }\n\n  enable() {\n    if (this.onEnable) {\n      this.onEnable();\n    }\n\n    this.registry.enable();\n\n    this.subscribers.forEach((listener) => {\n      listener(EventHandlerUpdates.HandlerEnabled);\n    });\n  }\n\n  cleanup() {\n    this.disable();\n    this.subscribers.clear();\n    this.registry.clear();\n  }\n\n  addCraftEventListener<K extends keyof HTMLElementEventMap>(\n    el: HTMLElement,\n    eventName: K,\n    listener: CraftEventListener<K>,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    const bindedListener = (e: CraftDOMEvent<HTMLElementEventMap[K]>) => {\n      if (!isEventBlockedByDescendant(e, eventName, el)) {\n        e.craft.stopPropagation = () => {\n          if (!e.craft.blockedEvents[eventName]) {\n            e.craft.blockedEvents[eventName] = [];\n          }\n\n          e.craft.blockedEvents[eventName].push(el);\n        };\n\n        listener(e);\n      }\n    };\n\n    el.addEventListener(eventName, bindedListener, options);\n\n    return () => el.removeEventListener(eventName, bindedListener, options);\n  }\n\n  // Defines the connectors and their logic\n  abstract handlers(): Record<string, (el: HTMLElement, ...args: any[]) => any>;\n\n  /**\n   * Creates a record of chainable connectors and tracks their usages\n   */\n  createConnectorsUsage(): ConnectorsUsage<this> {\n    const handlers = this.handlers();\n\n    // Track all active connector ids here\n    // This is so we can return a cleanup method below so the callee can programmatically cleanup all connectors\n\n    const activeConnectorIds: Set<string> = new Set();\n\n    let canRegisterConnectors = false;\n    const connectorsToRegister: Map<\n      string,\n      () => RegisteredConnector\n    > = new Map();\n\n    const connectors = Object.entries(handlers).reduce<\n      Record<string, Connector>\n    >(\n      (accum, [name, handler]) => ({\n        ...accum,\n        [name]: (el, required, options) => {\n          const registerConnector = () => {\n            const connector = this.registry.register(el, {\n              required,\n              name,\n              options,\n              connector: handler,\n            });\n\n            activeConnectorIds.add(connector.id);\n            return connector;\n          };\n\n          connectorsToRegister.set(\n            this.registry.getConnectorId(el, name),\n            registerConnector\n          );\n\n          /**\n           * If register() has been called,\n           * register the connector immediately.\n           *\n           * Otherwise, registration is deferred until after register() is called\n           */\n          if (canRegisterConnectors) {\n            registerConnector();\n          }\n\n          return el;\n        },\n      }),\n      {}\n    ) as any;\n\n    return {\n      connectors,\n      register: () => {\n        canRegisterConnectors = true;\n\n        connectorsToRegister.forEach((registerConnector) => {\n          registerConnector();\n        });\n      },\n      cleanup: () => {\n        canRegisterConnectors = false;\n\n        activeConnectorIds.forEach((connectorId) =>\n          this.registry.remove(connectorId)\n        );\n      },\n    };\n  }\n\n  derive<C extends EventHandlers>(\n    type: {\n      new (...args: any[]): C;\n    },\n    opts: C['options']\n  ) {\n    return new type(this, opts);\n  }\n\n  // This method allows us to execute multiple connectors and returns a single cleanup method for all of them\n  protected createProxyHandlers<H extends EventHandlers>(\n    instance: H,\n    cb: (connectors: EventHandlerConnectors<H>) => void\n  ) {\n    const connectorsToCleanup = [];\n    const handlers = instance.handlers();\n\n    const proxiedHandlers = new Proxy(handlers, {\n      get: (target, key: any, receiver) => {\n        if (key in handlers === false) {\n          return Reflect.get(target, key, receiver);\n        }\n\n        return (el, ...args) => {\n          const cleanup = handlers[key](el, ...args);\n          if (!cleanup) {\n            return;\n          }\n\n          connectorsToCleanup.push(cleanup);\n        };\n      },\n    });\n\n    cb(proxiedHandlers as any);\n\n    return () => {\n      connectorsToCleanup.forEach((cleanup) => {\n        cleanup();\n      });\n    };\n  }\n\n  // This lets us to execute and cleanup sibling connectors\n  reflect(cb: (connectors: EventHandlerConnectors<this>) => void) {\n    return this.createProxyHandlers(this, cb);\n  }\n}\n","import { CraftDOMEvent } from './interfaces';\n\n/**\n * Check if a specified event is blocked by a child\n * that's a descendant of the specified element\n */\nexport function isEventBlockedByDescendant<K extends keyof HTMLElementEventMap>(\n  e: CraftDOMEvent<HTMLElementEventMap[K]>,\n  eventName: K,\n  el: HTMLElement\n) {\n  // Store initial Craft event value\n  if (!e.craft) {\n    e.craft = {\n      stopPropagation: () => {},\n      blockedEvents: {},\n    };\n  }\n\n  const blockingElements = (e.craft && e.craft.blockedEvents[eventName]) || [];\n\n  for (let i = 0; i < blockingElements.length; i++) {\n    const blockingElement = blockingElements[i];\n\n    if (el !== blockingElement && el.contains(blockingElement)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","import { EventHandlers } from './EventHandlers';\nimport { EventHandlerConnectors, EventHandlerUpdates } from './interfaces';\n\n// Creates EventHandlers that depends on another EventHandlers instance\n// This lets us to easily create new connectors that composites of the parent EventHandlers instance\nexport abstract class DerivedEventHandlers<\n  P extends EventHandlers,\n  O extends Record<string, any> = {}\n> extends EventHandlers<O> {\n  derived: P;\n  unsubscribeParentHandlerListener: () => void;\n\n  constructor(derived: P, options?: O) {\n    super(options);\n    this.derived = derived;\n    this.options = options;\n\n    // Automatically disable/enable depending on the parent handlers\n    this.unsubscribeParentHandlerListener = this.derived.listen((msg) => {\n      switch (msg) {\n        case EventHandlerUpdates.HandlerEnabled: {\n          return this.enable();\n        }\n        case EventHandlerUpdates.HandlerDisabled: {\n          return this.disable();\n        }\n        default: {\n          return;\n        }\n      }\n    });\n  }\n\n  // A method to easily inherit parent connectors\n  inherit(cb: (connectors: EventHandlerConnectors<P>) => void) {\n    return this.createProxyHandlers(this.derived, cb);\n  }\n\n  cleanup() {\n    super.cleanup();\n    this.unsubscribeParentHandlerListener();\n  }\n}\n","// https://github.com/react-dnd/react-dnd\nimport { isValidElement, ReactElement } from 'react';\nimport { cloneElement } from 'react';\nimport invariant from 'tiny-invariant';\n\nimport { ChainableConnectors, ConnectorsRecord } from './interfaces';\n\nfunction setRef(ref: any, node: any) {\n  if (node) {\n    if (typeof ref === 'function') {\n      ref(node);\n    } else {\n      ref.current = node;\n    }\n  }\n}\n\nexport function cloneWithRef(\n  element: any,\n  newRef: any\n): React.ReactElement<any> {\n  const previousRef = element.ref;\n  invariant(\n    typeof previousRef !== 'string',\n    'Cannot connect to an element with an existing string ref. ' +\n      'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n      'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute'\n  );\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef,\n    });\n  } else {\n    return cloneElement(element, {\n      ref: (node: any) => {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      },\n    });\n  }\n}\n\nfunction throwIfCompositeComponentElement(element: React.ReactElement<any>) {\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  throw new Error();\n}\n\nexport function wrapHookToRecognizeElement(\n  hook: (node: any, ...args: any[]) => void\n) {\n  return (elementOrNode = null, ...args: any) => {\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      if (!elementOrNode) {\n        return;\n      }\n\n      const node = elementOrNode;\n      node && hook(node, ...args);\n      return node;\n    }\n\n    // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n    const element: ReactElement | null = elementOrNode;\n    throwIfCompositeComponentElement(element as any);\n\n    return cloneWithRef(element, hook);\n  };\n}\n\n// A React wrapper for our connectors\n// Wrap all our connectors so that would additionally accept React.ReactElement\nexport function wrapConnectorHooks<H extends ConnectorsRecord>(\n  connectors: H\n): ChainableConnectors<H, React.ReactElement | HTMLElement> {\n  return Object.keys(connectors).reduce((accum, key) => {\n    accum[key] = wrapHookToRecognizeElement((...args) => {\n      // @ts-ignore\n      return connectors[key](...args);\n    });\n\n    return accum;\n  }, {}) as any;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\ntype RenderIndicatorProps = {\n  style: React.CSSProperties;\n  className?: string;\n  parentDom?: HTMLElement;\n};\n\nexport const RenderIndicator = ({\n  style,\n  className,\n  parentDom,\n}: RenderIndicatorProps) => {\n  const indicator = (\n    <div\n      className={className}\n      style={{\n        position: 'fixed',\n        display: 'block',\n        opacity: 1,\n        borderStyle: 'solid',\n        borderWidth: '1px',\n        borderColor: 'transparent',\n        zIndex: 99999,\n        ...style,\n      }}\n    ></div>\n  );\n\n  if (parentDom && parentDom.ownerDocument !== document) {\n    return ReactDOM.createPortal(indicator, parentDom.ownerDocument.body);\n  }\n\n  return indicator;\n};\n","import { useEffect } from 'react';\n\nexport const useEffectOnce = (effect: () => void) => {\n  /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  useEffect(effect, []);\n};\n","type DeprecationPayload = Partial<{\n  suggest: string;\n  doc: string;\n}>;\n\nexport const deprecationWarning = (name, payload?: DeprecationPayload) => {\n  let message = `Deprecation warning: ${name} will be deprecated in future relases.`;\n\n  const { suggest, doc } = payload;\n\n  if (suggest) {\n    message += ` Please use ${suggest} instead.`;\n  }\n\n  // URL link to Documentation\n  if (doc) {\n    message += `(${doc})`;\n  }\n\n  // eslint-disable-next-line no-console\n  console.warn(message);\n};\n","export const isClientSide = () => typeof window !== 'undefined';\n\nexport const isLinux = () =>\n  isClientSide() && /Linux/i.test(window.navigator.userAgent);\n\nexport const isChromium = () =>\n  isClientSide() && /Chrome/i.test(window.navigator.userAgent);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}